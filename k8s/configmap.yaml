---
apiVersion: v1
kind: ConfigMap
metadata:
  name: konflux-mcp-config
  namespace: konflux-devlake
  labels:
    app.kubernetes.io/instance: devlake
    app.kubernetes.io/name: devlake
    devlakeComponent: ui
data:
  # Database configuration - pointing to existing DevLake MySQL
  DB_HOST: "devlake-mysql"
  DB_PORT: "3306"
  DB_DATABASE: "lake"

  # Connection pool configuration for multi-user concurrent access
  # Adjust based on expected concurrent users and MySQL max_connections
  DB_POOL_MIN_SIZE: "5"
  DB_POOL_MAX_SIZE: "50"
  DB_POOL_RECYCLE: "300"

  # Server configuration
  SERVER_HOST: "0.0.0.0"
  SERVER_PORT: "3000"
  SERVER_TRANSPORT: "http"

  # Logging configuration
  LOG_LEVEL: "INFO"
